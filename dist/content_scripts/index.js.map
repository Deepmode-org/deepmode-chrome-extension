{"version":3,"sources":["content_scripts/augment.js","content_scripts/augmentationConditions.js","helpers/extractDomain.js","content_scripts/siteSpecifics.js","helpers/urls.js","content_scripts/showBlock.js","content_scripts/messaging.js","content_scripts/bodyReady.js","../node_modules/lodash.assignin/index.js","../node_modules/webext-redux/lib/constants/index.js","../node_modules/webext-redux/lib/serialization.js","../node_modules/webext-redux/lib/strategies/constants.js","../node_modules/webext-redux/lib/strategies/shallowDiff/patch.js","../node_modules/webext-redux/lib/util.js","../node_modules/webext-redux/lib/store/Store.js","../node_modules/webext-redux/lib/store/applyMiddleware.js","../node_modules/webext-redux/lib/strategies/shallowDiff/diff.js","../node_modules/webext-redux/lib/wrap-store/wrapStore.js","../node_modules/webext-redux/lib/alias/alias.js","../node_modules/webext-redux/lib/index.js","content_scripts/index.js","../../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/css-loader.js","../../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["augment","conditions","delay","watchAttr","deleteNodes","nodes","forEach","call","node","remove","length","mo","MutationObserver","processNodes","observe","document","documentElement","childList","subtree","attributes","addEventListener","e","disconnect","mutations","i","addedNodes","j","nodeType","k","condition","pathname","window","location","matches","selector","callback","hidePoll","querySelectorAll","interval","setInterval","querySelector","setAttribute","setTimeout","clearInterval","augmentationConditions","undo","elementToHideCheck","extractDomainNameWithoutTLD","url","split","replace","slice","updateUI","domain","isUrlInBlacklist","blacklist","some","bUrl","includes","isUrlInWhitelist","whitelist","wUrl","showBlock","type","taskDescription","blockInner","title","deepmodeRootElem","getElementById","innerHTML","style","display","closeCurrentTab","href","sendMessage","params","chrome","runtime","Object","assign","initMsgListeners","store","getState","isPaused","onMessage","addListener","msg","sender","sendResponse","match","bodyReady","Promise","resolve","reject","moBody","checkForBody","tagName","Store","portName","all","ready","then","arr","body","deepmodeRoot","createElement","id","appendChild","cssFile","getURL","styleLink","rel","getElementsByTagName","bundleURL","getBundleURLCached","getBundleURL","Error","err","stack","getBaseURL","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","module","OVERLAY_ID","OldModule","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","event","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","overlay","createErrorOverlay","stackTrace","innerText","getParents","modules","parents","d","dep","Array","isArray","concat","Function","deps","cached","cache","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AqBAA,IAAIiH,SAAS,GAAG,IAAhB;;AACA,SAASC,kBAAT,GAA8B;AAC5B,MAAI,CAACD,SAAL,EAAgB;AACdA,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD;;AAED,SAAOF,SAAP;AACD;;AAED,SAASE,YAAT,GAAwB;AACtB;AACA,MAAI;AACF,UAAM,IAAIC,KAAJ,EAAN;AACD,GAFD,CAEE,OAAOC,GAAP,EAAY;AACZ,QAAIpF,OAAO,GAAG,CAAC,KAAKoF,GAAG,CAACC,KAAV,EAAiB7B,KAAjB,CAAuB,+DAAvB,CAAd;;AACA,QAAIxD,OAAJ,EAAa;AACX,aAAOsF,UAAU,CAACtF,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD;AACF;;AAED,SAAO,GAAP;AACD;;AAED,SAASsF,UAAT,CAAoBvE,GAApB,EAAyB;AACvB,SAAO,CAAC,KAAKA,GAAN,EAAWE,OAAX,CAAmB,sEAAnB,EAA2F,IAA3F,IAAmG,GAA1G;AACD;;AAEDsE,OAAO,CAACL,YAAR,GAAuBD,kBAAvB;AACAM,OAAO,CAACD,UAAR,GAAqBA,UAArB;;AC5BA,IAAIE,MAAM,GAAGC,OAAO,CAAC,cAAD,CAApB;;AAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AACxB,MAAIC,OAAO,GAAGD,IAAI,CAACE,SAAL,EAAd;;AACAD,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAACnH,MAAL;AACD,GAFD;;AAGAoH,EAAAA,OAAO,CAACpD,IAAR,GAAemD,IAAI,CAACnD,IAAL,CAAUxB,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgC+E,IAAI,CAACC,GAAL,EAA/C;AACAL,EAAAA,IAAI,CAACM,UAAL,CAAgBC,YAAhB,CAA6BN,OAA7B,EAAsCD,IAAI,CAACQ,WAA3C;AACD;;AAED,IAAIC,UAAU,GAAG,IAAjB;;AACA,SAASC,SAAT,GAAqB;AACnB,MAAID,UAAJ,EAAgB;AACd;AACD;;AAEDA,EAAAA,UAAU,GAAG3F,UAAU,CAAC,YAAY;AAClC,QAAI6F,KAAK,GAAGxH,QAAQ,CAACsB,gBAAT,CAA0B,wBAA1B,CAAZ;;AACA,SAAK,IAAIb,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+G,KAAK,CAAC7H,MAA1B,EAAkCc,CAAC,EAAnC,EAAuC;AACrC,UAAIiG,MAAM,CAACF,UAAP,CAAkBgB,KAAK,CAAC/G,CAAD,CAAL,CAASiD,IAA3B,MAAqCgD,MAAM,CAACN,YAAP,EAAzC,EAAgE;AAC9DQ,QAAAA,UAAU,CAACY,KAAK,CAAC/G,CAAD,CAAN,CAAV;AACD;AACF;;AAED6G,IAAAA,UAAU,GAAG,IAAb;AACD,GATsB,EASpB,EAToB,CAAvB;AAUD;;AAEDG,MAAM,CAAChB,OAAP,GAAiBc,SAAjB;;;;;;;;;;;;;;AtB7BA;AACA;AACA;AACA;AACe,SAAStI,OAAT,GAAoE;AAAA,MAAnDC,UAAmD,uEAAtC,EAAsC;AAAA,MAAlCC,KAAkC,uEAA1B,KAA0B;AAAA,MAAnBC,SAAmB,uEAAP,KAAO;;AACjF,WAASC,WAAT,CAAqBC,KAArB,EAA4B;AAC1B,OAAGC,OAAH,CAAWC,IAAX,CAAgBF,KAAhB,EAAuB,UAASG,IAAT,EAAe;AAAEA,MAAAA,IAAI,CAACC,MAAL;AAAe,KAAvD;AACD;;AAED,MAAIR,UAAU,IAAIA,UAAU,CAACS,MAA7B,EAAqC;AACnC;AACA,QAAIC,EAAE,GAAG,IAAIC,gBAAJ,CAAqBC,YAArB,CAAT;AACAF,IAAAA,EAAE,CAACG,OAAH,CAAWC,QAAQ,CAACC,eAApB,EAAqC;AAAEC,MAAAA,SAAS,EAAE,IAAb;AAAmBC,MAAAA,OAAO,EAAE,IAA5B;AAAkCC,MAAAA,UAAU,EAAEhB;AAA9C,KAArC;AACA,QAAI,CAACD,KAAL,EAAYa,QAAQ,CAACK,gBAAT,CAA0B,kBAA1B,EAA8C,UAACC,CAAD;AAAA,aAAOV,EAAE,CAACW,UAAH,EAAP;AAAA,KAA9C;AACb;;AAED,WAAST,YAAT,CAAsBU,SAAtB,EAAiC;AAC/B,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,SAAS,CAACb,MAA9B,EAAsCc,CAAC,EAAvC,EAA2C;AACzC,UAAInB,KAAK,GAAGkB,SAAS,CAACC,CAAD,CAAT,CAAaC,UAAzB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrB,KAAK,CAACK,MAA1B,EAAkCgB,CAAC,EAAnC,EAAuC;AACrC,YAAIlB,IAAI,GAAGH,KAAK,CAACqB,CAAD,CAAhB;AACA,YAAIlB,IAAI,CAACmB,QAAL,KAAkB,CAAtB,EACE;;AAEF,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG3B,UAAU,CAACS,MAA/B,EAAuCkB,CAAC,EAAxC,EAA4C;AAC1C,cAAIC,SAAS,GAAG5B,UAAU,CAAC2B,CAAD,CAA1B;;AACA,cAAI,CAACC,SAAS,CAACC,QAAX,IAAuBD,SAAS,CAACC,QAAV,KAAuBC,MAAM,CAACC,QAAP,CAAgBF,QAAlE,EAA4E;AAC1E,gBAAItB,IAAI,CAACyB,OAAL,CAAaJ,SAAS,CAACK,QAAvB,CAAJ,EAAsC;AACpC,kBAAIL,SAAS,CAACM,QAAV,KAAuB,MAA3B,EAAmC;AACjC,oBAAI,CAACjC,KAAL,EAAYE,WAAW,CAAC,CAACI,IAAD,CAAD,CAAX,CAAZ,KACK4B,QAAQ,CAACP,SAAD,CAAR;AACN;AACF,aALD,MAKO;AACL,kBAAIA,SAAS,CAACM,QAAV,KAAuB,MAA3B,EAAmC;AACjC/B,gBAAAA,WAAW,CAACI,IAAI,CAAC6B,gBAAL,CAAsBR,SAAS,CAACK,QAAhC,CAAD,CAAX;AACD;AACF;AACF;AACF;AACF;AACF;AACF;;AAED,WAASE,QAAT,CAAkBP,SAAlB,EAA6B;AAC3B,QAAIS,QAAQ,GAAGC,WAAW,CAAC,YAAW;AACpC,UAAIxB,QAAQ,CAACyB,aAAT,CAAuBX,SAAS,CAACK,QAAjC,CAAJ,EAAgD;AAC9CnB,QAAAA,QAAQ,CAACyB,aAAT,CAAuBX,SAAS,CAACK,QAAjC,EACGO,YADH,CACgB,OADhB,EACyB,+BADzB;AAEAC,QAAAA,UAAU,CAAC,YAAW;AACpBC,UAAAA,aAAa,CAACL,QAAD,CAAb;AACD,SAFS,EAEP,IAFO,CAAV;AAGD;AACF,KARyB,EAQvB,GARuB,CAA1B;AASD;AACF;;;;;;;;ACtDD,IAAMM,sBAAsB,GAAG;AAC7B,mBAAiB,CACf;AACE,gBAAY,4BADd;AAEE,gBAAY;AAFd,GADe,EAKf;AACE,gBAAY,gEADd;AAEE,gBAAY;AAFd,GALe,EASf;AACE,gBAAY,SADd;AAEE,gBAAY;AAFd,GATe,EAaf;AACE,gBAAY,wBADd;AAEE,gBAAY;AAFd,GAbe,EAiBf;AACE,gBAAY,8CADd;AAEE,gBAAY;AAFd,GAjBe,EAqBf;AACE,gBAAY,YADd;AAEE,gBAAY;AAFd,GArBe,CADY;AA2B7B,aAAW,CACT;AACEV,IAAAA,QAAQ,EAAE,eADZ;AAEEC,IAAAA,QAAQ,EAAE,MAFZ;AAGEL,IAAAA,QAAQ,EAAE,GAHZ;AAIEe,IAAAA,IAAI,EAAE,gBAAW;AAAA;;AACf,UAAIC,kBAAkB,GAAGP,WAAW,CAAC,YAAM;AACzC,YAAIxB,QAAQ,CAACyB,aAAT,CAAuB,KAAI,CAACN,QAA5B,CAAJ,EAA2C;AACzCnB,UAAAA,QAAQ,CACLyB,aADH,CACiB,KAAI,CAACN,QADtB,EAEGO,YAFH,CAEgB,OAFhB,EAEyB,EAFzB;AAGAC,UAAAA,UAAU,CAAC,YAAW;AACpBC,YAAAA,aAAa,CAACG,kBAAD,CAAb;AACD,WAFS,EAEP,IAFO,CAAV;AAGD;AACF,OATmC,EASjC,GATiC,CAApC;AAUD;AAfH,GADS,EAkBT;AACEZ,IAAAA,QAAQ,EAAE,gBADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAlBS,EAsBT;AACED,IAAAA,QAAQ,EAAE,OADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAtBS,EA0BT;AACED,IAAAA,QAAQ,EAAE,WADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GA1BS,EA8BT;AACED,IAAAA,QAAQ,EAAE,UADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GA9BS,EAkCT;AACED,IAAAA,QAAQ,EAAE,WADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAlCS,EAsCT;AACED,IAAAA,QAAQ,EAAE,oBADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAtCS,EA0CT;AACED,IAAAA,QAAQ,EAAE,eADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GA1CS,EA8CT;AACED,IAAAA,QAAQ,EAAE,MADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GA9CS,EAkDT;AACED,IAAAA,QAAQ,EAAE,kBADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAlDS,EAsDT;AACED,IAAAA,QAAQ,EAAE,sBADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAtDS,EA0DT;AACED,IAAAA,QAAQ,EAAE,YADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GA1DS,CA3BkB;AA0F7B,WAAS,CACP;AACE,gBAAY,WADd;AAEE,gBAAY,MAFd;AAGEL,IAAAA,QAAQ,EAAE;AAHZ,GADO,EAMP;AACE,gBAAY,gBADd;AAEE,gBAAY;AAFd,GANO,EAUP;AACEI,IAAAA,QAAQ,EAAE,mBADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAVO,EAcP;AACED,IAAAA,QAAQ,EAAE,kBADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAdO,CA1FoB;AA6G7B,gBAAc,CACZ;AACED,IAAAA,QAAQ,EAAE,UADZ;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GADY;AA7Ge,CAA/B;eAqHeS;;;;;;;;;;ACrHA,SAASG,2BAAT,CAAqCC,GAArC,EAA0C;AACvD,SAAOA,GAAG,CAACC,KAAJ,CAAU,IAAV,EAAgB,CAAhB,EAAmBC,OAAnB,CAA2B,MAA3B,EAAmC,EAAnC,EAAuCD,KAAvC,CAA6C,GAA7C,EAAkDE,KAAlD,CAAwD,CAAC,CAAzD,EAA4D,CAAC,CAA7D,EAAgE,CAAhE,CAAP;AACD;;;;;;;;;ACCD;;AACA;;AACA;;;;AALA;;;AAOO,SAASC,QAAT,CAAkBJ,GAAlB,EAAuB;AAC5B,MAAIK,MAAM,GAAG,4BAA4BL,GAA5B,CAAb;;AAEA,UAAQK,MAAR;AACE,SAAK,eAAL;AACA,SAAK,eAAL;AACE,aAAO,sBAAQT,gCAAuB,eAAvB,CAAR,CAAP;AACF;AACA;AACA;AACA;AACA;;AACA,SAAK,OAAL;AACE,aAAO,sBAAQA,gCAAuB,OAAvB,CAAR,CAAP;;AACF;AACE;AAZJ;AAcD;;;;;;;;;;ACxBD;;;AAIO,SAASU,gBAAT,CAA0BC,SAA1B,EAAqCP,GAArC,EAA0C;AAC/C,SAAOO,SAAS,CAACC,IAAV,CAAe,UAASC,IAAT,EAAe;AACnC,WAAOT,GAAG,CAACU,QAAJ,CAAaD,IAAb,CAAP;AACD,GAFM,CAAP;AAGD;;AAEM,SAASE,gBAAT,CAA0BC,SAA1B,EAAqCZ,GAArC,EAA0C;AAC/C,SAAOY,SAAS,CAACJ,IAAV,CAAe,UAASK,IAAT,EAAe;AACnC,WAAOb,GAAG,CAACU,QAAJ,CAAaG,IAAb,CAAP;AACD,GAFM,CAAP;AAGD;;;;;;;;;ACdD;;AAEe,SAASC,SAAT,CAAmB/B,MAAnB,EAA2BhB,QAA3B,QAA+D;AAAA,MAAxBgD,IAAwB,QAAxBA,IAAwB;AAAA,MAAlBC,eAAkB,QAAlBA,eAAkB;AAC5E,MAAIC,UAAJ;;AACA,MAAIF,IAAI,KAAK,UAAb,EAAyB;AACvBE,IAAAA,UAAU,+cAWQD,eAXR,6PAiBQjD,QAAQ,CAACmD,KAjBjB,2sBAAV;AAyCA,QAAIC,gBAAgB,GAAGpD,QAAQ,CAACqD,cAAT,CAAwB,eAAxB,CAAvB;AACAD,IAAAA,gBAAgB,CAACE,SAAjB,GAA6BJ,UAA7B;AACAE,IAAAA,gBAAgB,CAACG,KAAjB,CAAuBC,OAAvB,GAAiC,OAAjC;AACAxD,IAAAA,QAAQ,CAACqD,cAAT,CAAwB,oBAAxB,EAA8ChD,gBAA9C,CAA+D,OAA/D,EAAwE,YAAW;AACjF+C,MAAAA,gBAAgB,CAACG,KAAjB,CAAuBC,OAAvB,GAAiC,MAAjC;AACD,KAFD;AAGAxD,IAAAA,QAAQ,CAACqD,cAAT,CAAwB,oBAAxB,EAA8ChD,gBAA9C,CAA+D,OAA/D,EAAwEoD,0BAAxE;AACD,GAjDD,MAiDO,IAAIT,IAAI,KAAK,WAAb,EAA0B;AAC/BE,IAAAA,UAAU,6gBAI4ClC,MAAM,CAACC,QAAP,CAAgByC,IAJ5D,2FAAV;;AASA,QAAIN,iBAAgB,GAAGpD,QAAQ,CAACqD,cAAT,CAAwB,eAAxB,CAAvB;;AACAD,IAAAA,iBAAgB,CAACE,SAAjB,GAA6BJ,UAA7B;AACAE,IAAAA,iBAAgB,CAACG,KAAjB,CAAuBC,OAAvB,GAAiC,OAAjC;AACD;AACF;;;;;;;;;;ACnED;;AACA;;;;AAEA,SAASG,WAAT,CAAqBX,IAArB,EAAwC;AAAA,MAAbY,MAAa,uEAAJ,EAAI;AACtC,SAAOC,MAAM,CAACC,OAAP,CAAeH,WAAf,CACLI,MAAM,CAACC,MAAP,CAAc;AAAEhB,IAAAA,IAAI,EAAJA;AAAF,GAAd,EAAwBY,MAAxB,CADK,CAAP;AAGD;;AAEM,SAASK,gBAAT,CAA0BC,KAA1B,EAAiC;AAAA,wBACRA,KAAK,CAACC,QAAN,EADQ;AAAA,MAChC3B,SADgC,mBAChCA,SADgC;AAAA,MACrB4B,QADqB,mBACrBA,QADqB;;AAEtC,MAAI,CAACA,QAAD,IAAa,4BAAiB5B,SAAjB,EAA4BxB,MAAM,CAACC,QAAP,CAAgByC,IAA5C,CAAjB,EACE,wBAAU1C,MAAV,EAAkBhB,QAAlB,EAA4B;AAAEgD,IAAAA,IAAI,EAAE;AAAR,GAA5B;AAEF,SAAOa,MAAM,CAACC,OAAP,CAAeO,SAAf,CAAyBC,WAAzB,CAAqC,UAASC,GAAT,EAAcC,MAAd,EAAsBC,YAAtB,EAAoC;AAC9E,QAAIF,GAAG,CAACvB,IAAJ,KAAa,aAAjB,EAAgC;AAC9B,UAAI,CAACuB,GAAG,CAACG,KAAT,EAAgB;AAAA,+BACYR,KAAK,CAACC,QAAN,EADZ;AAAA,YACRlB,eADQ,oBACRA,eADQ;;AAEd,gCAAUjC,MAAV,EAAkBhB,QAAlB,EAA4B;AAC1BgD,UAAAA,IAAI,EAAE,UADoB;AAE1BC,UAAAA,eAAe,EAAfA;AAF0B,SAA5B;AAID;AACF,KARD,MAQO,IAAIsB,GAAG,CAACvB,IAAJ,KAAa,WAAjB,EAA8B;AACnC,8BAAUhC,MAAV,EAAkBhB,QAAlB,EAA4B;AAC1BgD,QAAAA,IAAI,EAAE,WADoB;AAE1BG,QAAAA,KAAK,EAAEoB,GAAG,CAACpB;AAFe,OAA5B;AAID;AACF,GAfM,CAAP;AAgBD;;AAEM,SAASM,eAAT,GAA2B;AAChC,SAAOE,WAAW,CAAC,mBAAD,CAAlB;AACD;;;;;;;;;AClCD;;;;AAKe,SAASgB,SAAT,CAAmB3E,QAAnB,EAA6B;AAC1C,SAAO,IAAI4E,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C,QAAIC,MAAM,GAAG,IAAIlF,gBAAJ,CAAqBmF,YAArB,CAAb;AACAD,IAAAA,MAAM,CAAChF,OAAP,CAAeC,QAAQ,CAACC,eAAxB,EAAyC;AAAEC,MAAAA,SAAS,EAAE,IAAb;AAAmBC,MAAAA,OAAO,EAAE;AAA5B,KAAzC;AACAwB,IAAAA,UAAU,CAACoD,MAAM,CAACxE,UAAR,EAAoB,IAApB,CAAV;;AAEA,aAASyE,YAAT,CAAsBxE,SAAtB,EAAiC;AAC/B,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,SAAS,CAACb,MAA9B,EAAsCc,CAAC,EAAvC,EAA2C;AACzC,YAAInB,KAAK,GAAGkB,SAAS,CAACC,CAAD,CAAT,CAAaC,UAAzB;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrB,KAAK,CAACK,MAA1B,EAAkCgB,CAAC,EAAnC,EAAuC;AACrC,cAAIlB,IAAI,GAAGH,KAAK,CAACqB,CAAD,CAAhB;AACA,cAAIlB,IAAI,CAACmB,QAAL,KAAkB,CAAtB,EACE;;AAEF,cAAInB,IAAI,CAACwF,OAAL,KAAiB,MAArB,EAA6B;AAC3B,mBAAOJ,OAAO,CAACpF,IAAD,CAAd;AACD;AACF;AACF;AACF;AACF,GAnBM,CAAP;AAoBD;;AC1BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"index.js","sourceRoot":"../src","sourcesContent":["// This watches elements and hides them when they appear - it is less performant but can prevent a delay\n// or a miss in hiding an element\n// This should be used by default since the content script runs at document start\n// The observer should be attached to document.documentElement\nexport default function augment(conditions = [], delay = false, watchAttr = false) {\n  function deleteNodes(nodes) {\n    [].forEach.call(nodes, function(node) { node.remove() });\n  }\n\n  if (conditions && conditions.length) {\n    // Use mutation observers to handle elements that are dynamically loaded\n    var mo = new MutationObserver(processNodes);\n    mo.observe(document.documentElement, { childList: true, subtree: true, attributes: watchAttr });\n    if (!delay) document.addEventListener(\"DOMContentLoaded\", (e) => mo.disconnect());\n  }\n\n  function processNodes(mutations) {\n    for (let i = 0; i < mutations.length; i++) {\n      let nodes = mutations[i].addedNodes;\n      for (let j = 0; j < nodes.length; j++) {\n        let node = nodes[j];\n        if (node.nodeType !== 1)\n          continue;\n\n        for (let k = 0; k < conditions.length; k++) {\n          let condition = conditions[k];\n          if (!condition.pathname || condition.pathname === window.location.pathname) {\n            if (node.matches(condition.selector)) {\n              if (condition.callback === \"hide\") {\n                if (!delay) deleteNodes([node]);\n                else hidePoll(condition);\n              }\n            } else {\n              if (condition.callback === \"hide\") {\n                deleteNodes(node.querySelectorAll(condition.selector));\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  function hidePoll(condition) {\n    let interval = setInterval(function() { \n      if (document.querySelector(condition.selector)) {\n        document.querySelector(condition.selector)\n          .setAttribute(\"style\", \"visibility: hidden !important\");\n        setTimeout(function() {\n          clearInterval(interval);\n        }, 5000);\n      }\n    }, 100);\n  }\n}\n","const augmentationConditions = {\n  \"stackexchange\": [\n    {\n      \"selector\": \".module.community-bulletin\",\n      \"callback\": \"hide\"\n    },\n    {\n      \"selector\": \"#clc-tsb.everyonelovesstackoverflow.everyoneloves__top-sidebar\",\n      \"callback\": \"hide\"\n    },\n    {\n      \"selector\": \"#hireme\",\n      \"callback\": \"hide\"\n    },\n    {\n      \"selector\": \".module.sidebar-linked\",\n      \"callback\": \"hide\"\n    },\n    {\n      \"selector\": \"#hot-network-questions.module.tex2jax_ignore\",\n      \"callback\": \"hide\"\n    },\n    {\n      \"selector\": \"#feed-link\",\n      \"callback\": \"hide\"\n    }\n  ],\n  \"youtube\": [\n    {\n      selector: \"#page-manager\",\n      callback: \"hide\",\n      pathname: \"/\",\n      undo: function() {\n        let elementToHideCheck = setInterval(() => { \n          if (document.querySelector(this.selector)) {\n            document\n              .querySelector(this.selector)\n              .setAttribute(\"style\", \"\");\n            setTimeout(function() {\n              clearInterval(elementToHideCheck);\n            }, 2000);\n          }\n        }, 100);\n      }\n    },\n    {\n      selector: \"#guide-content\",\n      callback: \"hide\"\n    },\n    {\n      selector: \"#logo\",\n      callback: \"hide\"\n    },\n    {\n      selector: \"#comments\",\n      callback: \"hide\"\n    },\n    {\n      selector: \"#related\",\n      callback: \"hide\"\n    },\n    {\n      selector: \"#playlist\",\n      callback: \"hide\"\n    },\n    {\n      selector: \"#top-level-buttons\",\n      callback: \"hide\"\n    },\n    {\n      selector: \"#guide-button\",\n      callback: \"hide\"\n    },\n    {\n      selector: \"#end\",\n      callback: \"hide\"\n    },\n    {\n      selector: \".ytp-next-button\",\n      callback: \"hide\"\n    },\n    {\n      selector: \".videowall-endscreen\",\n      callback: \"hide\"\n    },\n    {\n      selector: \"#sentiment\",\n      callback: \"hide\"\n    }\n  ],\n  \"quora\": [\n    {\n      \"selector\": \".FeedMain\",\n      \"callback\": \"hide\",\n      pathname: \"/\"\n    },\n    {\n      \"selector\": \".NotifsNavItem\",\n      \"callback\": \"hide\"\n    },\n    {\n      selector: \".RelatedQuestions\",\n      callback: \"hide\"\n    },\n    {\n      selector: \".ContentPageFeed\",\n      callback: \"hide\"\n    }\n  ],\n  \"hackernews\": [\n    {\n      selector: \".subtext\",\n      callback: \"hide\"\n    }\n  ]\n};\n\nexport default augmentationConditions;\n","export default function extractDomainNameWithoutTLD(url) {\n  return url.split(\"//\")[1].replace(\"www.\", \"\").split(\".\").slice(-2, -1)[0]\n}\n","/*\n  Code to change specific sites to remove distracting features\n*/\nimport augment from \"./augment.js\";\nimport augmentationConditions from \"./augmentationConditions.js\";\nimport extractDomainNameWithoutTLD from \"../helpers/extractDomain.js\";\n\nexport function updateUI(url) {\n  let domain = extractDomainNameWithoutTLD(url);\n\n  switch (domain) {\n    case \"stackoverflow\":\n    case \"stackexchange\":\n      return augment(augmentationConditions[\"stackexchange\"]);\n    // case \"youtube\":\n    //   return augment(augmentationConditions[\"youtube\"], true);\n    // case \"ycombinator\":\n    //   if (url.includes(\"news.ycombinator\"))\n    //     return augment(augmentationConditions[\"hackernews\"]);\n    case \"quora\":\n      return augment(augmentationConditions[\"quora\"]);\n    default:\n      return;\n  }\n}\n","/*\n  Helper functions for dealing with URLs\n*/\n\nexport function isUrlInBlacklist(blacklist, url) {\n  return blacklist.some(function(bUrl) {\n    return url.includes(bUrl);\n  });\n}\n\nexport function isUrlInWhitelist(whitelist, url) {\n  return whitelist.some(function(wUrl) {\n    return url.includes(wUrl);\n  });\n}\n","import { closeCurrentTab } from \"./messaging.js\";\n\nexport default function showBlock(window, document, { type, taskDescription}) {\n  let blockInner;\n  if (type === \"off_task\") {\n    blockInner = `\n      <div class=\"ContentWrapper\">\n        <div class=\"DistractionBlock\">\n          <div class=\"container grid-sm\">\n            <div class=\"task-summary columns\">\n              <div class=\"column\">\n                <div class=\"current\">\n                  <p>\n                    Here's what you're supposed to be working on:\n                  </p>\n                  <p class=\"task text-bold text-italic\">\n                    ${taskDescription}\n                  </p>\n                </div>\n                <div class=\"new-page\">\n                  <p>Here's what this new page is about:</p>\n                  <p class=\"page-title text-bold text-italic\">\n                    ${document.title}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <div class=\"columns\">\n              <div class=\"column\">\n                <p>Are you on task?</p>\n              </div>\n            </div>\n            <div class=\"options columns\">\n              <div class=\"column\">\n                <button id=\"deepmode-allow-tab\" class=\"allow-tab btn\">\n                  Yes, continue\n                </button>\n                <button id=\"deepmode-close-tab\" class=\"close-tab btn btn-success\">\n                  No, close this tab\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>`;\n\n    let deepmodeRootElem = document.getElementById(\"deepmode-root\");\n    deepmodeRootElem.innerHTML = blockInner;\n    deepmodeRootElem.style.display = \"block\";\n    document.getElementById(\"deepmode-allow-tab\").addEventListener(\"click\", function() {\n      deepmodeRootElem.style.display = \"none\";\n    });\n    document.getElementById(\"deepmode-close-tab\").addEventListener(\"click\", closeCurrentTab);\n  } else if (type === \"blacklist\") {\n    blockInner = `\n      <div class=\"ContentWrapper\">\n        <div class=\"BlacklistBlock\" style=\"align-items: center;background: white;color: #3d424e;display: flex;flex-direction: column;font-family: sans-serif;font-size: 18px;height: 100vh;justify-content: center;left: 0;padding: 5rem;position: fixed;top: 0;width: 100vw;z-index: 2147483638;\">\n          <div class=\"container grid-sm\" style=\"align-items: center; display: flex; justify-content: center;\">\n            <h2 style=\"word-break break-all;\">This url \"${window.location.href}\" is on your Deepmode blacklist.</h2>\n          </div>\n        </div>\n      </div>`;\n\n    let deepmodeRootElem = document.getElementById(\"deepmode-root\");\n    deepmodeRootElem.innerHTML = blockInner;\n    deepmodeRootElem.style.display = \"block\";\n  }\n}\n","import { isUrlInBlacklist } from \"../helpers/urls\";\nimport showBlock from \"./showBlock.js\";\n\nfunction sendMessage(type, params = {}) {\n  return chrome.runtime.sendMessage(\n    Object.assign({ type }, params)\n  );\n}\n\nexport function initMsgListeners(store) {\n  let { blacklist, isPaused } = store.getState();\n  if (!isPaused && isUrlInBlacklist(blacklist, window.location.href))\n    showBlock(window, document, { type: \"blacklist\" });\n\n  return chrome.runtime.onMessage.addListener(function(msg, sender, sendResponse) {\n    if (msg.type === \"topic_match\") {\n      if (!msg.match) {\n        let { taskDescription } = store.getState();\n        showBlock(window, document, {\n          type: \"off_task\",\n          taskDescription\n        });\n      }\n    } else if (msg.type === \"blacklist\") {  \n      showBlock(window, document, {\n        type: \"blacklist\",\n        title: msg.title\n      });\n    }\n  });\n}\n\nexport function closeCurrentTab() {\n  return sendMessage(\"close_current_tab\");\n}\n","/*\n  This returns a promise (resolved w/ the body elem) as soon as the body elem is available on the DOM.\n  Chaining onto this promise allows UI augmentation before the original page has rendered.\n*/\n\nexport default function bodyReady(document) {\n  return new Promise(function(resolve, reject) {\n    let moBody = new MutationObserver(checkForBody);\n    moBody.observe(document.documentElement, { childList: true, subtree: true });\n    setTimeout(moBody.disconnect, 1000);\n\n    function checkForBody(mutations) {\n      for (let i = 0; i < mutations.length; i++) {\n        let nodes = mutations[i].addedNodes;\n        for (let j = 0; j < nodes.length; j++) {\n          let node = nodes[j];\n          if (node.nodeType !== 1)\n            continue;\n\n          if (node.tagName === \"BODY\") {\n            return resolve(node);\n          }\n        }\n      }\n    }\n  });\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * This method is like `_.assign` except that it iterates over own and\n * inherited source properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assign\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n */\nvar assignIn = createAssigner(function(object, source) {\n  copyObject(source, keysIn(source), object);\n});\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = assignIn;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DEFAULT_PORT_NAME = exports.PATCH_STATE_TYPE = exports.STATE_TYPE = exports.DISPATCH_TYPE = void 0;\n// Message type used for dispatch events\n// from the Proxy Stores to background\nvar DISPATCH_TYPE = 'chromex.dispatch'; // Message type for state update events from\n// background to Proxy Stores\n\nexports.DISPATCH_TYPE = DISPATCH_TYPE;\nvar STATE_TYPE = 'chromex.state'; // Message type for state patch events from\n// background to Proxy Stores\n\nexports.STATE_TYPE = STATE_TYPE;\nvar PATCH_STATE_TYPE = 'chromex.patch_state'; // The default name for the port communication via\n// react-chrome-redux\n\nexports.PATCH_STATE_TYPE = PATCH_STATE_TYPE;\nvar DEFAULT_PORT_NAME = \"chromex.port_name\";\nexports.DEFAULT_PORT_NAME = DEFAULT_PORT_NAME;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withSerializer = exports.withDeserializer = exports.noop = void 0;\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar noop = function noop(payload) {\n  return payload;\n};\n\nexports.noop = noop;\n\nvar transformPayload = function transformPayload(message) {\n  var transformer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return _objectSpread({}, message, message.payload ? {\n    payload: transformer(message.payload)\n  } : {});\n};\n\nvar deserializeListener = function deserializeListener(listener) {\n  var deserializer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  var shouldDeserialize = arguments.length > 2 ? arguments[2] : undefined;\n\n  // If a shouldDeserialize function is passed, return a function that uses it\n  // to check if any given message payload should be deserialized\n  if (shouldDeserialize) {\n    return function (message) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (shouldDeserialize.apply(void 0, [message].concat(args))) {\n        return listener.apply(void 0, [transformPayload(message, deserializer)].concat(args));\n      }\n\n      return listener.apply(void 0, [message].concat(args));\n    };\n  } // Otherwise, return a function that tries to deserialize on every message\n\n\n  return function (message) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    return listener.apply(void 0, [transformPayload(message, deserializer)].concat(args));\n  };\n};\n/**\n * A function returned from withDeserializer that, when called, wraps addListenerFn with the\n * deserializer passed to withDeserializer.\n * @name AddListenerDeserializer\n * @function\n * @param {Function} addListenerFn The add listener function to wrap.\n * @returns {DeserializedAddListener}\n */\n\n/**\n * A wrapped add listener function that registers the given listener.\n * @name DeserializedAddListener\n * @function\n * @param {Function} listener The listener function to register. It should expect the (optionally)\n * deserialized message as its first argument.\n * @param {Function} [shouldDeserialize] A function that takes the arguments passed to the listener\n * and returns whether the message payload should be deserialized. Not all messages (notably, messages\n * this listener doesn't care about) should be attempted to be deserialized.\n */\n\n/**\n * Given a deserializer, returns an AddListenerDeserializer function that that takes an add listener\n * function and returns a DeserializedAddListener that automatically deserializes message payloads.\n * Each message listener is expected to take the message as its first argument.\n * @param {Function} deserializer A function that deserializes a message payload.\n * @returns {AddListenerDeserializer}\n * Example Usage:\n *   const withJsonDeserializer = withDeserializer(payload => JSON.parse(payload));\n *   const deserializedChromeListener = withJsonDeserializer(chrome.runtime.onMessage.addListener);\n *   const shouldDeserialize = (message) => message.type === 'DESERIALIZE_ME';\n *   deserializedChromeListener(message => console.log(\"Payload:\", message.payload), shouldDeserialize);\n *   chrome.runtime.sendMessage(\"{'type:'DESERIALIZE_ME','payload':{'prop':4}}\");\n *   //Payload: { prop: 4 };\n *   chrome.runtime.sendMessage(\"{'payload':{'prop':4}}\");\n *   //Payload: \"{'prop':4}\";\n */\n\n\nvar withDeserializer = function withDeserializer() {\n  var deserializer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  return function (addListenerFn) {\n    return function (listener, shouldDeserialize) {\n      return addListenerFn(deserializeListener(listener, deserializer, shouldDeserialize));\n    };\n  };\n};\n/**\n * Given a serializer, returns a function that takes a message sending\n * function as its sole argument and returns a wrapped message sender that\n * automaticaly serializes message payloads. The message sender\n * is expected to take the message as its first argument, unless messageArgIndex\n * is nonzero, in which case it is expected in the position specified by messageArgIndex.\n * @param {Function} serializer A function that serializes a message payload\n * Example Usage:\n *   const withJsonSerializer = withSerializer(payload => JSON.stringify(payload))\n *   const serializedChromeSender = withJsonSerializer(chrome.runtime.sendMessage)\n *   chrome.runtime.addListener(message => console.log(\"Payload:\", message.payload))\n *   serializedChromeSender({ payload: { prop: 4 }})\n *   //Payload: \"{'prop':4}\"\n */\n\n\nexports.withDeserializer = withDeserializer;\n\nvar withSerializer = function withSerializer() {\n  var serializer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  return function (sendMessageFn) {\n    var messageArgIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      if (args.length <= messageArgIndex) {\n        throw new Error(\"Message in request could not be serialized. \" + \"Expected message in position \".concat(messageArgIndex, \" but only received \").concat(args.length, \" args.\"));\n      }\n\n      args[messageArgIndex] = transformPayload(args[messageArgIndex], serializer);\n      return sendMessageFn.apply(void 0, args);\n    };\n  };\n};\n\nexports.withSerializer = withSerializer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DIFF_STATUS_KEYS_UPDATED = exports.DIFF_STATUS_REMOVED = exports.DIFF_STATUS_UPDATED = void 0;\n// The `change` value for updated or inserted fields resulting from shallow diff\nvar DIFF_STATUS_UPDATED = 'updated'; // The `change` value for removed fields resulting from shallow diff\n\nexports.DIFF_STATUS_UPDATED = DIFF_STATUS_UPDATED;\nvar DIFF_STATUS_REMOVED = 'removed';\nexports.DIFF_STATUS_REMOVED = DIFF_STATUS_REMOVED;\nvar DIFF_STATUS_KEYS_UPDATED = 'updated_keys';\nexports.DIFF_STATUS_KEYS_UPDATED = DIFF_STATUS_KEYS_UPDATED;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _constants = require(\"../constants\");\n\nfunction _default(obj, difference) {\n  var newObj = Object.assign({}, obj);\n  difference.forEach(function (_ref) {\n    var change = _ref.change,\n        key = _ref.key,\n        value = _ref.value;\n\n    switch (change) {\n      case _constants.DIFF_STATUS_UPDATED:\n        newObj[key] = value;\n        break;\n\n      case _constants.DIFF_STATUS_REMOVED:\n        Reflect.deleteProperty(newObj, key);\n        break;\n\n      default: // do nothing\n\n    }\n  });\n  return newObj;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getBrowserAPI = getBrowserAPI;\n\n/**\n * Looks for a global browser api, first checking the chrome namespace and then\n * checking the browser namespace. If no appropriate namespace is present, this\n * function will throw an error.\n */\nfunction getBrowserAPI() {\n  var api = global.chrome || global.browser || browser;\n\n  if (!api) {\n    throw new Error(\"Browser API is not present\");\n  }\n\n  return api;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash.assignin\"));\n\nvar _constants = require(\"../constants\");\n\nvar _serialization = require(\"../serialization\");\n\nvar _patch = _interopRequireDefault(require(\"../strategies/shallowDiff/patch\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar backgroundErrPrefix = '\\nLooks like there is an error in the background page. ' + 'You might want to inspect your background page for more details.\\n';\nvar defaultOpts = {\n  portName: _constants.DEFAULT_PORT_NAME,\n  state: {},\n  extensionId: null,\n  serializer: _serialization.noop,\n  deserializer: _serialization.noop,\n  patchStrategy: _patch.default\n};\n\nvar Store =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Creates a new Proxy store\n   * @param  {object} options An object of form {portName, state, extensionId, serializer, deserializer, diffStrategy}, where `portName` is a required string and defines the name of the port for state transition changes, `state` is the initial state of this store (default `{}`) `extensionId` is the extension id as defined by browserAPI when extension is loaded (default `''`), `serializer` is a function to serialize outgoing message payloads (default is passthrough), `deserializer` is a function to deserialize incoming message payloads (default is passthrough), and patchStrategy is one of the included patching strategies (default is shallow diff) or a custom patching function.\n   */\n  function Store() {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultOpts,\n        _ref$portName = _ref.portName,\n        portName = _ref$portName === void 0 ? defaultOpts.portName : _ref$portName,\n        _ref$state = _ref.state,\n        state = _ref$state === void 0 ? defaultOpts.state : _ref$state,\n        _ref$extensionId = _ref.extensionId,\n        extensionId = _ref$extensionId === void 0 ? defaultOpts.extensionId : _ref$extensionId,\n        _ref$serializer = _ref.serializer,\n        serializer = _ref$serializer === void 0 ? defaultOpts.serializer : _ref$serializer,\n        _ref$deserializer = _ref.deserializer,\n        deserializer = _ref$deserializer === void 0 ? defaultOpts.deserializer : _ref$deserializer,\n        _ref$patchStrategy = _ref.patchStrategy,\n        patchStrategy = _ref$patchStrategy === void 0 ? defaultOpts.patchStrategy : _ref$patchStrategy;\n\n    _classCallCheck(this, Store);\n\n    if (!portName) {\n      throw new Error('portName is required in options');\n    }\n\n    if (typeof serializer !== 'function') {\n      throw new Error('serializer must be a function');\n    }\n\n    if (typeof deserializer !== 'function') {\n      throw new Error('deserializer must be a function');\n    }\n\n    if (typeof patchStrategy !== 'function') {\n      throw new Error('patchStrategy must be one of the included patching strategies or a custom patching function');\n    }\n\n    this.portName = portName;\n    this.readyResolved = false;\n    this.readyPromise = new Promise(function (resolve) {\n      return _this.readyResolve = resolve;\n    });\n    this.browserAPI = (0, _util.getBrowserAPI)();\n    this.extensionId = extensionId; // keep the extensionId as an instance variable\n\n    this.port = this.browserAPI.runtime.connect(this.extensionId, {\n      name: portName\n    });\n    this.safetyHandler = this.safetyHandler.bind(this);\n    this.safetyMessage = this.browserAPI.runtime.onMessage.addListener(this.safetyHandler);\n    this.serializedPortListener = (0, _serialization.withDeserializer)(deserializer)(function () {\n      var _this$port$onMessage;\n\n      return (_this$port$onMessage = _this.port.onMessage).addListener.apply(_this$port$onMessage, arguments);\n    });\n    this.serializedMessageSender = (0, _serialization.withSerializer)(serializer)(function () {\n      var _this$browserAPI$runt;\n\n      return (_this$browserAPI$runt = _this.browserAPI.runtime).sendMessage.apply(_this$browserAPI$runt, arguments);\n    }, 1);\n    this.listeners = [];\n    this.state = state;\n    this.patchStrategy = patchStrategy; // Don't use shouldDeserialize here, since no one else should be using this port\n\n    this.serializedPortListener(function (message) {\n      switch (message.type) {\n        case _constants.STATE_TYPE:\n          _this.replaceState(message.payload);\n\n          if (!_this.readyResolved) {\n            _this.readyResolved = true;\n\n            _this.readyResolve();\n          }\n\n          break;\n\n        case _constants.PATCH_STATE_TYPE:\n          _this.patchState(message.payload);\n\n          break;\n\n        default: // do nothing\n\n      }\n    });\n    this.dispatch = this.dispatch.bind(this); // add this context to dispatch\n  }\n  /**\n  * Returns a promise that resolves when the store is ready. Optionally a callback may be passed in instead.\n  * @param [function] callback An optional callback that may be passed in and will fire when the store is ready.\n  * @return {object} promise A promise that resolves when the store has established a connection with the background page.\n  */\n\n\n  _createClass(Store, [{\n    key: \"ready\",\n    value: function ready() {\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (cb !== null) {\n        return this.readyPromise.then(cb);\n      }\n\n      return this.readyPromise;\n    }\n    /**\n     * Subscribes a listener function for all state changes\n     * @param  {function} listener A listener function to be called when store state changes\n     * @return {function}          An unsubscribe function which can be called to remove the listener from state updates\n     */\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(listener) {\n      var _this2 = this;\n\n      this.listeners.push(listener);\n      return function () {\n        _this2.listeners = _this2.listeners.filter(function (l) {\n          return l !== listener;\n        });\n      };\n    }\n    /**\n     * Replaces the state for only the keys in the updated state. Notifies all listeners of state change.\n     * @param {object} state the new (partial) redux state\n     */\n\n  }, {\n    key: \"patchState\",\n    value: function patchState(difference) {\n      this.state = this.patchStrategy(this.state, difference);\n      this.listeners.forEach(function (l) {\n        return l();\n      });\n    }\n    /**\n     * Replace the current state with a new state. Notifies all listeners of state change.\n     * @param  {object} state The new state for the store\n     */\n\n  }, {\n    key: \"replaceState\",\n    value: function replaceState(state) {\n      this.state = state;\n      this.listeners.forEach(function (l) {\n        return l();\n      });\n    }\n    /**\n     * Get the current state of the store\n     * @return {object} the current store state\n     */\n\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this.state;\n    }\n    /**\n     * Stub function to stay consistent with Redux Store API. No-op.\n     */\n\n  }, {\n    key: \"replaceReducer\",\n    value: function replaceReducer() {\n      return;\n    }\n    /**\n     * Dispatch an action to the background using messaging passing\n     * @param  {object} data The action data to dispatch\n     * @return {Promise}     Promise that will resolve/reject based on the action response from the background\n     */\n\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(data) {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this3.serializedMessageSender(_this3.extensionId, {\n          type: _constants.DISPATCH_TYPE,\n          portName: _this3.portName,\n          payload: data\n        }, null, function (resp) {\n          var error = resp.error,\n              value = resp.value;\n\n          if (error) {\n            var bgErr = new Error(\"\".concat(backgroundErrPrefix).concat(error));\n            reject((0, _lodash.default)(bgErr, error));\n          } else {\n            resolve(value && value.payload);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"safetyHandler\",\n    value: function safetyHandler(message) {\n      if (message.action === 'storeReady') {\n        // Remove Saftey Listener\n        this.browserAPI.runtime.onMessage.removeListener(this.safetyHandler); // Resolve if readyPromise has not been resolved.\n\n        if (!this.readyResolved) {\n          this.readyResolved = true;\n          this.readyResolve();\n        }\n      }\n    }\n  }]);\n\n  return Store;\n}();\n\nvar _default = Store;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = applyMiddleware;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n// Function taken from redux source\n// https://github.com/reactjs/redux/blob/master/src/compose.js\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n} // Based on redux implementation of applyMiddleware to support all standard\n// redux middlewares\n\n\nfunction applyMiddleware(store) {\n  for (var _len2 = arguments.length, middlewares = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    middlewares[_key2 - 1] = arguments[_key2];\n  }\n\n  var _dispatch = function dispatch() {\n    throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n  };\n\n  var middlewareAPI = {\n    getState: store.getState.bind(store),\n    dispatch: function dispatch() {\n      return _dispatch.apply(void 0, arguments);\n    }\n  };\n  middlewares = (middlewares || []).map(function (middleware) {\n    return middleware(middlewareAPI);\n  });\n  _dispatch = compose.apply(void 0, _toConsumableArray(middlewares))(store.dispatch);\n  store.dispatch = _dispatch;\n  return store;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = shallowDiff;\n\nvar _constants = require(\"../constants\");\n\n/**\n * Returns a new Object containing only the fields in `new` that differ from `old`\n *\n * @param {Object} old\n * @param {Object} new\n * @return {Array} An array of changes. The changes have a `key`, `value`, and `change`.\n *   The change is either `updated`, which is if the value has changed or been added,\n *   or `removed`.\n */\nfunction shallowDiff(oldObj, newObj) {\n  var difference = [];\n  Object.keys(newObj).forEach(function (key) {\n    if (oldObj[key] !== newObj[key]) {\n      difference.push({\n        key: key,\n        value: newObj[key],\n        change: _constants.DIFF_STATUS_UPDATED\n      });\n    }\n  });\n  Object.keys(oldObj).forEach(function (key) {\n    if (!newObj.hasOwnProperty(key)) {\n      difference.push({\n        key: key,\n        change: _constants.DIFF_STATUS_REMOVED\n      });\n    }\n  });\n  return difference;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _constants = require(\"../constants\");\n\nvar _serialization = require(\"../serialization\");\n\nvar _util = require(\"../util\");\n\nvar _diff = _interopRequireDefault(require(\"../strategies/shallowDiff/diff\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Responder for promisified results\n * @param  {object} dispatchResult The result from `store.dispatch()`\n * @param  {function} send         The function used to respond to original message\n * @return {undefined}\n */\nvar promiseResponder = function promiseResponder(dispatchResult, send) {\n  Promise.resolve(dispatchResult).then(function (res) {\n    send({\n      error: null,\n      value: res\n    });\n  }).catch(function (err) {\n    console.error('error dispatching result:', err);\n    send({\n      error: err.message,\n      value: null\n    });\n  });\n};\n\nvar defaultOpts = {\n  portName: _constants.DEFAULT_PORT_NAME,\n  dispatchResponder: promiseResponder,\n  serializer: _serialization.noop,\n  deserializer: _serialization.noop,\n  diffStrategy: _diff.default\n};\n/**\n * Wraps a Redux store so that proxy stores can connect to it.\n * @param {Object} store A Redux store\n * @param {Object} options An object of form {portName, dispatchResponder, serializer, deserializer}, where `portName` is a required string and defines the name of the port for state transition changes, `dispatchResponder` is a function that takes the result of a store dispatch and optionally implements custom logic for responding to the original dispatch message,`serializer` is a function to serialize outgoing message payloads (default is passthrough), `deserializer` is a function to deserialize incoming message payloads (default is passthrough), and diffStrategy is one of the included diffing strategies (default is shallow diff) or a custom diffing function.\n */\n\nvar _default = function _default(store) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOpts,\n      _ref$portName = _ref.portName,\n      portName = _ref$portName === void 0 ? defaultOpts.portName : _ref$portName,\n      _ref$dispatchResponde = _ref.dispatchResponder,\n      dispatchResponder = _ref$dispatchResponde === void 0 ? defaultOpts.dispatchResponder : _ref$dispatchResponde,\n      _ref$serializer = _ref.serializer,\n      serializer = _ref$serializer === void 0 ? defaultOpts.serializer : _ref$serializer,\n      _ref$deserializer = _ref.deserializer,\n      deserializer = _ref$deserializer === void 0 ? defaultOpts.deserializer : _ref$deserializer,\n      _ref$diffStrategy = _ref.diffStrategy,\n      diffStrategy = _ref$diffStrategy === void 0 ? defaultOpts.diffStrategy : _ref$diffStrategy;\n\n  if (!portName) {\n    throw new Error('portName is required in options');\n  }\n\n  if (typeof serializer !== 'function') {\n    throw new Error('serializer must be a function');\n  }\n\n  if (typeof deserializer !== 'function') {\n    throw new Error('deserializer must be a function');\n  }\n\n  if (typeof diffStrategy !== 'function') {\n    throw new Error('diffStrategy must be one of the included diffing strategies or a custom diff function');\n  }\n\n  var browserAPI = (0, _util.getBrowserAPI)();\n  /**\n   * Respond to dispatches from UI components\n   */\n\n  var dispatchResponse = function dispatchResponse(request, sender, sendResponse) {\n    if (request.type === _constants.DISPATCH_TYPE && request.portName === portName) {\n      var action = Object.assign({}, request.payload, {\n        _sender: sender\n      });\n      var dispatchResult = null;\n\n      try {\n        dispatchResult = store.dispatch(action);\n      } catch (e) {\n        dispatchResult = Promise.reject(e.message);\n        console.error(e);\n      }\n\n      dispatchResponder(dispatchResult, sendResponse);\n      return true;\n    }\n  };\n  /**\n  * Setup for state updates\n  */\n\n\n  var connectState = function connectState(port) {\n    if (port.name !== portName) {\n      return;\n    }\n\n    var serializedMessagePoster = (0, _serialization.withSerializer)(serializer)(function () {\n      return port.postMessage.apply(port, arguments);\n    });\n    var prevState = store.getState();\n\n    var patchState = function patchState() {\n      var state = store.getState();\n      var diff = diffStrategy(prevState, state);\n\n      if (diff.length) {\n        prevState = state;\n        serializedMessagePoster({\n          type: _constants.PATCH_STATE_TYPE,\n          payload: diff\n        });\n      }\n    }; // Send patched state down connected port on every redux store state change\n\n\n    var unsubscribe = store.subscribe(patchState); // when the port disconnects, unsubscribe the sendState listener\n\n    port.onDisconnect.addListener(unsubscribe); // Send store's initial state through port\n\n    serializedMessagePoster({\n      type: _constants.STATE_TYPE,\n      payload: prevState\n    });\n  };\n\n  var withPayloadDeserializer = (0, _serialization.withDeserializer)(deserializer);\n\n  var shouldDeserialize = function shouldDeserialize(request) {\n    return request.type === _constants.DISPATCH_TYPE && request.portName === portName;\n  };\n  /**\n   * Setup action handler\n   */\n\n\n  withPayloadDeserializer(function () {\n    var _browserAPI$runtime$o;\n\n    return (_browserAPI$runtime$o = browserAPI.runtime.onMessage).addListener.apply(_browserAPI$runtime$o, arguments);\n  })(dispatchResponse, shouldDeserialize);\n  /**\n   * Setup external action handler\n   */\n\n  if (browserAPI.runtime.onMessageExternal) {\n    withPayloadDeserializer(function () {\n      var _browserAPI$runtime$o2;\n\n      return (_browserAPI$runtime$o2 = browserAPI.runtime.onMessageExternal).addListener.apply(_browserAPI$runtime$o2, arguments);\n    })(dispatchResponse, shouldDeserialize);\n  } else {\n    console.warn('runtime.onMessageExternal is not supported');\n  }\n  /**\n   * Setup extended connection\n   */\n\n\n  browserAPI.runtime.onConnect.addListener(connectState);\n  /**\n   * Setup extended external connection\n   */\n\n  if (browserAPI.runtime.onConnectExternal) {\n    browserAPI.runtime.onConnectExternal.addListener(connectState);\n  } else {\n    console.warn('runtime.onConnectExternal is not supported');\n  }\n  /**\n   * Safety message to tabs for content scripts\n   */\n\n\n  browserAPI.tabs.query({}, function (tabs) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = tabs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var tab = _step.value;\n        browserAPI.tabs.sendMessage(tab.id, {\n          action: 'storeReady'\n        });\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }); // For non-tab based\n  // TODO: Find use case for this. Ommiting until then.\n  // browserAPI.runtime.sendMessage(null, {action: 'storeReady'});\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * Simple middleware intercepts actions and replaces with\n * another by calling an alias function with the original action\n * @type {object} aliases an object that maps action types (keys) to alias functions (values) (e.g. { SOME_ACTION: newActionAliasFunc })\n */\nvar _default = function _default(aliases) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        var alias = aliases[action.type];\n\n        if (alias) {\n          return next(alias(action));\n        }\n\n        return next(action);\n      };\n    };\n  };\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Store\", {\n  enumerable: true,\n  get: function get() {\n    return _Store.default;\n  }\n});\nObject.defineProperty(exports, \"applyMiddleware\", {\n  enumerable: true,\n  get: function get() {\n    return _applyMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"wrapStore\", {\n  enumerable: true,\n  get: function get() {\n    return _wrapStore.default;\n  }\n});\nObject.defineProperty(exports, \"alias\", {\n  enumerable: true,\n  get: function get() {\n    return _alias.default;\n  }\n});\n\nvar _Store = _interopRequireDefault(require(\"./store/Store\"));\n\nvar _applyMiddleware = _interopRequireDefault(require(\"./store/applyMiddleware\"));\n\nvar _wrapStore = _interopRequireDefault(require(\"./wrap-store/wrapStore\"));\n\nvar _alias = _interopRequireDefault(require(\"./alias/alias\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","import \"../styles/content_scripts.scss\";\nimport { updateUI } from \"./siteSpecifics.js\";\nimport { initMsgListeners } from \"./messaging.js\";\nimport bodyReady from \"./bodyReady.js\";\nimport { Store } from \"webext-redux\";\nimport showBlock from \"./showBlock\";\n\nconst store = new Store({\n  portName: \"deepmode_bg_bridge\"\n});\n\nPromise.all([bodyReady(document), store.ready()]).then(function(arr) {\n  let [ body ] = arr;\n  let deepmodeRoot = document.createElement(\"div\");\n  deepmodeRoot.id = \"deepmode-root\";\n  body.appendChild(deepmodeRoot);\n\n  // Insert CSS for distraction block\n  let cssFile = chrome.runtime.getURL(\"dist/content_scripts/index.css\");\n  let styleLink = document.createElement(\"link\");\n  styleLink.rel = \"stylesheet\";\n  styleLink.type = \"text/css\";\n  styleLink.href = cssFile;\n  document.getElementsByTagName(\"head\")[0].appendChild(styleLink);\n\n  initMsgListeners(store);\n});\n\n// Update UI of certain distracting sites\nupdateUI(window.location.href);\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}